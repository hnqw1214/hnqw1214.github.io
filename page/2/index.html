<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="acmclub.win">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="acmclub.win">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="acmclub.win">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>acmclub.win</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">acmclub.win</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-/"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-/archives"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/考研路茫茫——单词情结-AC自动机-矩阵快速幂/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/考研路茫茫——单词情结-AC自动机-矩阵快速幂/" itemprop="url">
                  考研路茫茫——单词情结(AC自动机+矩阵快速幂)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T19:00:02+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h1><p>背单词，始终是复习英语的重要环节。在荒废了3年大学生涯后，Lele也终于要开始背单词了。<br>一天，Lele在某本单词书上看到了一个根据词根来背单词的方法。比如”ab”,放在单词前一般表示”相反，变坏，离去”等。</p>
<p>于是Lele想，如果背了N个词根，那这些词根到底会不会在单词里出现呢。更确切的描述是：长度不超过L，只由小写字母组成的，至少包含一个词根的单词，一共可能有多少个呢？这里就不考虑单词是否有实际意义。</p>
<p>比如一共有2个词根 aa 和 ab ，则可能存在104个长度不超过3的单词，分别为<br>(2个) aa,ab,<br>(26个)aaa,aab,aac…aaz,<br>(26个)aba,abb,abc…abz,<br>(25个)baa,caa,daa…zaa,<br>(25个)bab,cab,dab…zab。</p>
<p>这个只是很小的情况。而对于其他复杂点的情况，Lele实在是数不出来了，现在就请你帮帮他。</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>本题目包含多组数据，请处理到文件结束。 每组数据占两行。 第一行有两个正整数N和L。(0&lt;N&lt;6,0&lt;L&lt;2^31) 第二行有N个词根，每个词根仅由小写字母组成，长度不超过5。两个词根中间用一个空格分隔开。</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>对于每组数据，请在一行里输出一共可能的单词数目。 由于结果可能非常巨大，你只需要输出单词总数模2^64的值。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><p>2 3<br>aa ab<br>1 2<br>a</p>
<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><p>104<br>52</p>
<h1 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h1><p>linle</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>这题，是给定一些模式串。求出长度不超过m的，包含模式串的个数。</p>
<p>因为对2^64取模，所以定义数据类型为unsigned long long就可以了，这样就实现了自动取模。</p>
<p>本题使用AC自动机类似得到状态转移的矩阵。</p>
<p>但是因为要求和。</p>
<p>所以在POJ 2778 得到的L*L的矩阵中，需要增加一维，第L+1列全部为1</p>
<p>这样求出不包含模式串，而且长度不超过m的，然后总数减掉这个就是答案了。。</p>
<p>总数是26^1 + 26^2 + ……+ 26^m</p>
<p> f[n]=1 + 26^1 + 26^2 +…26^n<br> f[n]=26*f[n-1]+1<br> {f[n] 1} = {f[n-1] 1}[26 0;1 1]<br> 数是f[L]-1;<br> 此题的L&lt;2^31.矩阵的幂不能是L+1次，否则就超时了</p>
<p>很有意思的题目。。。只是这画图和公式都很难弄。。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pi acos(-1.0)</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> ll mod=<span class="number">100000</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span>&#123;</span></div><div class="line">    ll n,mat[<span class="number">40</span>][<span class="number">40</span>];</div><div class="line">    Matrix()&#123;&#125;</div><div class="line">    Matrix(ll _n)&#123;</div><div class="line">        n=_n;</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">            <span class="keyword">for</span>(ll j=<span class="number">0</span>;j&lt;n;j++)</div><div class="line">                mat[i][j]=<span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="function">Matrix <span class="title">mul</span><span class="params">(Matrix a,Matrix b)</span></span>&#123;</div><div class="line">    Matrix ans=Matrix(a.n);</div><div class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;a.n;i++)</div><div class="line">        <span class="keyword">for</span>(ll j=<span class="number">0</span>;j&lt;a.n;j++)</div><div class="line">            <span class="keyword">for</span>(ll k=<span class="number">0</span>;k&lt;a.n;k++)</div><div class="line">                ans.mat[i][j]=ans.mat[i][j]+a.mat[i][k]*b.mat[k][j];</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function">Matrix <span class="title">pw</span><span class="params">(Matrix a,ll n)</span></span>&#123;</div><div class="line">    Matrix ans=Matrix(a.n);</div><div class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;a.n;i++)</div><div class="line">        ans.mat[i][i]=<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(n)&#123;</div><div class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>)</div><div class="line">            ans=mul(ans,a);</div><div class="line">        a=mul(a,a);</div><div class="line">        n&gt;&gt;=<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>&#123;</span></div><div class="line">    ll next[<span class="number">300</span>][<span class="number">26</span>],fail[<span class="number">300</span>],end[<span class="number">300</span>];</div><div class="line">    ll L,root;</div><div class="line">    <span class="function">ll <span class="title">newnode</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)</div><div class="line">            next[L][i]=<span class="number">-1</span>;</div><div class="line">        end[L++]=<span class="number">0</span>;</div><div class="line">        <span class="keyword">return</span> L<span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">        L=<span class="number">0</span>;</div><div class="line">        root=newnode();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> *str)</span></span>&#123;</div><div class="line">        ll len=<span class="built_in">strlen</span>(str);</div><div class="line">        ll now=root;</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;len;i++)&#123;</div><div class="line">            ll p=str[i]-<span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span>(next[now][p]==<span class="number">-1</span>)</div><div class="line">                next[now][p]=newnode();</div><div class="line">            now=next[now][p];</div><div class="line">        &#125;</div><div class="line">        end[now]=<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">queue</span>&lt;ll&gt; q;</div><div class="line">        fail[root]=root;</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)</div><div class="line">            <span class="keyword">if</span>(next[root][i]==<span class="number">-1</span>)</div><div class="line">                next[root][i]=root;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                fail[next[root][i]]=root;</div><div class="line">                q.push(next[root][i]);</div><div class="line">            &#125;</div><div class="line">        <span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">            ll now=q.front();</div><div class="line">            q.pop();</div><div class="line">            <span class="keyword">if</span>(end[fail[now]])end[now]=<span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)</div><div class="line">                <span class="keyword">if</span>(next[now][i]==<span class="number">-1</span>)</div><div class="line">                    next[now][i]=next[fail[now]][i];</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    fail[next[now][i]]=next[fail[now]][i];</div><div class="line">                    q.push(next[now][i]);</div><div class="line">                &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function">Matrix <span class="title">solve</span><span class="params">()</span></span>&#123;</div><div class="line">        Matrix ans=Matrix(L+<span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;L;i++)</div><div class="line">            <span class="keyword">for</span>(ll j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</div><div class="line">                <span class="keyword">if</span>(!end[next[i][j]])</div><div class="line">                    ans.mat[i][next[i][j]]++;</div><div class="line">        <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;L+<span class="number">1</span>;i++)ans.mat[i][L]=<span class="number">1</span>;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;ac;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">(Matrix a)</span></span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"111: "</span>&lt;&lt;a.n&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;a.n;i++)&#123;</div><div class="line">        <span class="keyword">for</span>(ll j=<span class="number">0</span>;j&lt;a.n;j++)</div><div class="line">            <span class="built_in">cout</span>&lt;&lt;a.mat[i][j]&lt;&lt;<span class="string">" "</span>;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">char</span> str[<span class="number">40</span>];</div><div class="line"><span class="function">ll <span class="title">PW</span><span class="params">(ll a,ll b)</span></span></div><div class="line">&#123;</div><div class="line">    ll ans=<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(b)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(b%<span class="number">2</span>)</div><div class="line">            ans*=a;</div><div class="line">        a*=a;</div><div class="line">        b&gt;&gt;=<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">fun</span><span class="params">(ll L)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(L==<span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">26</span>;</div><div class="line">    ll t=<span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span>(L&amp;<span class="number">1</span>)</div><div class="line">        t=PW(<span class="number">26</span>,L);</div><div class="line">    <span class="keyword">return</span> (<span class="number">1</span>+PW(<span class="number">26</span>,L&gt;&gt;<span class="number">1</span>))*fun(L&gt;&gt;<span class="number">1</span>)+t;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    ll n,l,i,j,k,m;</div><div class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;n,&amp;l))&#123;</div><div class="line">        ac.init();</div><div class="line">        <span class="keyword">while</span>(n--)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</div><div class="line">            ac.insert(str);</div><div class="line">        &#125;</div><div class="line">        ac.build();</div><div class="line">        Matrix ans=ac.solve();</div><div class="line">        ans=pw(ans,l);</div><div class="line">        ll cnt=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;ans.n;i++)</div><div class="line">            cnt=cnt+ans.mat[<span class="number">0</span>][i];</div><div class="line">        </div><div class="line">        ll cnt1=fun(l);</div><div class="line">        cnt1-=cnt;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;cnt1+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/hdu病毒侵袭/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/hdu病毒侵袭/" itemprop="url">
                  hdu病毒侵袭
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T18:56:29+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h1><p>当太阳的光辉逐渐被月亮遮蔽，世界失去了光明，大地迎来最黑暗的时刻。。。。在这样的时刻，人们却异常兴奋——我们能在有生之年看到500年一遇的世界奇观，那是多么幸福的事儿啊~~<br>但网路上总有那么些网站，开始借着民众的好奇心，打着介绍日食的旗号，大肆传播病毒。小t不幸成为受害者之一。小t如此生气，他决定要把世界上所有带病毒的网站都找出来。当然，谁都知道这是不可能的。小t却执意要完成这不能的任务，他说：“子子孙孙无穷匮也！”（愚公后继有人了）。<br>万事开头难，小t收集了好多病毒的特征码，又收集了一批诡异网站的源码，他想知道这些网站中哪些是有病毒的，又是带了怎样的病毒呢？顺便还想知道他到底收集了多少带病毒的网站。这时候他却不知道何从下手了。所以想请大家帮帮忙。小t又是个急性子哦，所以解决问题越快越好哦~~</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>第一行，一个整数N（1&lt;=N&lt;=500），表示病毒特征码的个数。 接下来N行，每行表示一个病毒特征码，特征码字符串长度在20—200之间。 每个病毒都有一个编号，依此为1—N。 不同编号的病毒特征码不会相同。 在这之后一行，有一个整数M（1&lt;=M&lt;=1000），表示网站数。 接下来M行，每行表示一个网站源码，源码字符串长度在7000—10000之间。 每个网站都有一个编号，依此为1—M。 以上字符串中字符都是ASCII码可见字符（不包括回车）。</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>依次按如下格式输出按网站编号从小到大输出，带病毒的网站编号和包含病毒编号，每行一个含毒网站信息。 web 网站编号: 病毒编号 病毒编号 … 冒号后有一个空格，病毒编号按从小到大排列，两个病毒编号之间用一个空格隔开，如果一个网站包含病毒，病毒数不会超过3个。 最后一行输出统计信息，如下格式 total: 带病毒网站数 冒号后有一个空格。</p>
<h1 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h1><p>3<br>aaa<br>bbb<br>ccc<br>2<br>aaabbbccc<br>bbaacc</p>
<h1 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h1><p>web 1: 1 2 3<br>total: 1</p>
<h1 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h1><p>2009 Multi-University Training Contest 10 - Host by NIT</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>AC自动机，用end数组存下单词的id即可。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ACa</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> next[<span class="number">110000</span>][<span class="number">128</span>],fail[<span class="number">120000</span>],end[<span class="number">120000</span>];</div><div class="line">    <span class="keyword">int</span> root,len;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">newnode</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)</div><div class="line">            next[len][i]=<span class="number">-1</span>;</div><div class="line">        end[len]=<span class="number">-1</span>;</div><div class="line">        len++;</div><div class="line">        <span class="keyword">return</span> len<span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;</div><div class="line">        len=<span class="number">0</span>;</div><div class="line">        root=newnode();</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> s[],<span class="keyword">int</span> num)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> ls=<span class="built_in">strlen</span>(s);</div><div class="line">        <span class="keyword">int</span> now=root;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ls;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(next[now][s[i]]==<span class="number">-1</span>)</div><div class="line">              next[now][s[i]]=newnode();</div><div class="line">            now=next[now][s[i]];</div><div class="line">        &#125;</div><div class="line">        end[now]=num;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</div><div class="line">        <span class="keyword">int</span> i;</div><div class="line">        fail[root]=root;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(next[root][i]==<span class="number">-1</span>)</div><div class="line">                next[root][i]=root;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                fail[next[root][i]]=root;</div><div class="line">                q.push(next[root][i]);</div><div class="line">                &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">            <span class="keyword">int</span> now=q.front();</div><div class="line">            q.pop();</div><div class="line">            <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">128</span>;i++)&#123;</div><div class="line">                <span class="keyword">if</span>(next[now][i]==<span class="number">-1</span>)</div><div class="line">                    next[now][i]=next[fail[now]][i];</div><div class="line">                <span class="keyword">else</span>&#123;</div><div class="line">                    fail[next[now][i]]=next[fail[now]][i];</div><div class="line">                    q.push(next[now][i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">bool</span> vis[<span class="number">600</span>];</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">ask</span><span class="params">(<span class="keyword">char</span> c[],<span class="keyword">int</span> n,<span class="keyword">int</span> num)</span></span>&#123;</div><div class="line">        <span class="keyword">bool</span> flag1=<span class="literal">false</span>;</div><div class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</div><div class="line">        <span class="keyword">int</span> lc=<span class="built_in">strlen</span>(c);</div><div class="line">        <span class="keyword">int</span> now=root;</div><div class="line">        <span class="keyword">int</span> i;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;lc;i++)&#123;</div><div class="line">            now=next[now][c[i]];</div><div class="line">            <span class="keyword">int</span> temp=now;</div><div class="line">            <span class="keyword">while</span>(temp!=root)&#123;</div><div class="line">                <span class="keyword">if</span>(end[temp]!=<span class="number">-1</span>)&#123;</div><div class="line">                    flag1=<span class="number">1</span>;</div><div class="line">                    vis[end[temp]]=<span class="number">1</span>; </div><div class="line">                &#125;</div><div class="line">                temp=fail[temp];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(!flag1)<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"web %d:"</span>,num);</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(vis[i])<span class="built_in">printf</span>(<span class="string">" %d"</span>,i);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">ACa ac;</div><div class="line"><span class="keyword">char</span> s[<span class="number">20000</span>];</div><div class="line"><span class="keyword">int</span> n,m;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> i,j;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</div><div class="line">        ac.clear();</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s) , ac.insert(s,i);</div><div class="line">        ac.build();</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</div><div class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=m;i++)&#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</div><div class="line">            <span class="keyword">if</span>(ac.ask(s,n,i))ans++;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"total: %d\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/Cooking-Schedule-Problem-Code-SCHEDULE（优先队列）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/Cooking-Schedule-Problem-Code-SCHEDULE（优先队列）/" itemprop="url">
                  Cooking Schedule Problem Code: SCHEDULE（优先队列）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T18:02:55+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cooking-Schedule-Problem-Code-SCHEDULE"><a href="#Cooking-Schedule-Problem-Code-SCHEDULE" class="headerlink" title="Cooking Schedule Problem Code: SCHEDULE"></a>Cooking Schedule Problem Code: SCHEDULE</h1><p>Chef is a well-known chef, and everyone wishes to taste his dishes.<br>As you might know, cooking is not an easy job at all and cooking everyday makes the chef very tired. So, Chef has decided to give himself some days off.</p>
<p>Chef has made a schedule for the next N days: On i-th day if Ai is equal to 1 then Chef is going to cook a delicious dish on that day, if Ai is equal to 0 then Chef is going to rest on that day.</p>
<p>After Chef made his schedule he discovered that it’s not the best schedule, because there are some big blocks of consecutive days where Chef will cook which means it’s still tiring for Chef, and some big blocks of consecutive days where Chef is going to rest which means chef will be bored doing nothing during these days.</p>
<p>Which is why Chef has decided to make changes to this schedule, but since he doesn’t want to change it a lot, he will flip the status of at most K days. So for each day which Chef chooses, he will make it 1 if it was 0 or he will make it 0 if it was 1.</p>
<p>Help Chef by writing a program which flips the status of at most K days so that the size of the maximum consecutive block of days of the same status is minimized.</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>The first line of the input contains an integer T denoting the number of test cases.</p>
<p>The first line of each test case contains two integers: N denoting the number of days and K denoting maximum number of days to change.</p>
<p>The second line contains a string of length N , of which the i-th character is 0 if chef is going to rest on that day, or 1 if chef is going to work on that day</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>For each test case, output a single line containing a single integer, which is the minimum possible size of maximum block of consecutive days of the same status achievable.</p>
<h1 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h1><p>1 ≤ T ≤ 11,000<br>1 ≤ N ≤ 106<br>The sum of N in all test-cases won’t exceed 106.<br>0 ≤ K ≤ 106<br>0 ≤ Ai ≤ 1<br>Subtasks</p>
<p>Subtask #1 (20 points): N ≤ 10<br>Subtask #2 (80 points): Original Constraints </p>
<p>#Example</p>
<p>Input:</p>
<p>2<br>9 2<br>110001111<br>4 1<br>1001</p>
<p>Output:</p>
<p>2<br>2</p>
<h1 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h1><p>用大根堆存连续相同序列的长度，同时存下标号及切割次数（为了在最长的连续序列相同的前提下先切切割次数少的，因此要先用一个大一些的数代表切割0次，每切割一次这个数减1），用另一个数组记录这个序列的最初长度。每次切割长度最长的序列，长度变成最初的长度/（切割次数+1），再次加进堆（只需加一段即可）。直到剩下的最长长度只有2。对于小于2的情况，特殊处理即可。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> _;</div><div class="line"><span class="keyword">int</span> n,k,a[<span class="number">1000001</span>];</div><div class="line"><span class="keyword">char</span> c[<span class="number">1000001</span>];</div><div class="line">priority_queue &lt;pair&lt;<span class="keyword">int</span>,pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;&gt; q;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;_);</div><div class="line">    <span class="keyword">while</span> (_--)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,c);</div><div class="line">        <span class="keyword">while</span> (!q.empty()) q.pop();</div><div class="line">        <span class="keyword">int</span> tot=<span class="number">1</span>,cnt=<span class="number">1</span>;;</div><div class="line">        <span class="keyword">int</span> i;</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;n;i++)</div><div class="line">            <span class="keyword">if</span> (c[i]==c[i<span class="number">-1</span>]) tot++;</div><div class="line">            <span class="keyword">else</span></div><div class="line">            &#123;</div><div class="line">                <span class="comment">//cout&lt;&lt;tot&lt;&lt;endl;</span></div><div class="line">                q.push(&#123;tot,&#123;<span class="number">100000</span>,cnt&#125;&#125;);</div><div class="line">                a[cnt]=tot;</div><div class="line">                cnt++;</div><div class="line">                tot=<span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        q.push(&#123;tot,&#123;<span class="number">100000</span>,cnt&#125;&#125;);</div><div class="line">        a[cnt]=tot;</div><div class="line">        cnt++;</div><div class="line">        <span class="keyword">if</span> (q.top().first==<span class="number">1</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"1"</span>);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span> p=<span class="string">'1'</span>;</div><div class="line">        tot=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> len=<span class="built_in">strlen</span>(c);</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;len;i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (c[i]!=p) tot++;</div><div class="line">            <span class="keyword">if</span> (p==<span class="string">'1'</span>) p=<span class="string">'0'</span>; <span class="keyword">else</span> p=<span class="string">'1'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (tot&lt;=k)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"1"</span>);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        p=<span class="string">'0'</span>;</div><div class="line">        tot=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;len;i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (c[i]!=p) tot++;</div><div class="line">            <span class="keyword">if</span> (p==<span class="string">'1'</span>) p=<span class="string">'0'</span>; <span class="keyword">else</span> p=<span class="string">'1'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (tot&lt;=k)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"1"</span>);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//cout&lt;&lt;"hhhhhhhhhh"&lt;&lt;endl;</span></div><div class="line">        <span class="comment">//cout&lt;&lt;q.top()&lt;&lt;endl;</span></div><div class="line">        <span class="keyword">int</span> x;</div><div class="line">        <span class="keyword">while</span> (k--)</div><div class="line">        &#123;</div><div class="line">            x=q.top().first;</div><div class="line">            <span class="keyword">if</span> (x&lt;=<span class="number">2</span>) <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">int</span> ix=q.top().second.second;</div><div class="line">            <span class="keyword">int</span> nval=a[ix];</div><div class="line">            <span class="keyword">int</span> id=q.top().second.first;</div><div class="line">            id--;</div><div class="line">            <span class="keyword">int</span> im=<span class="number">100000</span>-id;</div><div class="line">            x=nval/(im+<span class="number">1</span>);</div><div class="line">            q.pop();</div><div class="line">            q.push(&#123;x,&#123;id,ix&#125;&#125;);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,q.top().first);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/Codeforces-549C（博弈）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/Codeforces-549C（博弈）/" itemprop="url">
                  Codeforces 549C（博弈）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T18:02:16+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>There are n cities in Westeros. The i-th city is inhabited by ai people. Daenerys and Stannis play the following game: in one single move, a player chooses a certain town and burns it to the ground. Thus all its residents, sadly, die. Stannis starts the game. The game ends when Westeros has exactly k cities left.</p>
<p>The prophecy says that if the total number of surviving residents is even, then Daenerys wins: Stannis gets beheaded, and Daenerys rises on the Iron Throne. If the total number of surviving residents is odd, Stannis wins and everything goes in the completely opposite way.</p>
<p>Lord Petyr Baelish wants to know which candidates to the throne he should support, and therefore he wonders, which one of them has a winning strategy. Answer to this question of Lord Baelish and maybe you will become the next Lord of Harrenholl.</p>
<p>Input<br>The first line contains two positive space-separated integers, n and k (1 ≤ k ≤ n ≤ 2·105) — the initial number of cities in Westeros and the number of cities at which the game ends. </p>
<p>The second line contains n space-separated positive integers ai (1 ≤ ai ≤ 106), which represent the population of each city in Westeros.</p>
<p>Output<br>Print string “Daenerys” (without the quotes), if Daenerys wins and “Stannis” (without the quotes), if Stannis wins.</p>
<p>Examples<br>input<br>3 1<br>1 2 1<br>output<br>Stannis<br>input<br>3 1<br>2 2 1<br>output<br>Daenerys<br>input<br>6 3<br>5 20 12 7 14 101<br>output<br>Stannis<br>Note<br>In the first sample Stannis will use his move to burn a city with two people and Daenerys will be forced to burn a city with one resident. The only survivor city will have one resident left, that is, the total sum is odd, and thus Stannis wins.</p>
<p>In the second sample, if Stannis burns a city with two people, Daenerys burns the city with one resident, or vice versa. In any case, the last remaining city will be inhabited by two people, that is, the total sum is even, and hence Daenerys wins.</p>
<p>题目大意：</p>
<p>n个城市，每人轮流屠掉一个城市，最后剩下k个城市，如果剩下的k个城市的人数和是奇数，那么先手赢，否则后手赢。</p>
<p>思路：</p>
<p>如果后手能够有机会屠掉所有奇数城，那么先手必败。</p>
<p>如果有奇数城剩余，继续考虑如果要屠的城为奇数座，那么先手可以最后利用偶数城，调整当前奇数城的数量，必胜。</p>
<p>但是如果后手能够将偶数城全部干掉，那么最后就变成看剩下的k是奇数还是偶数了。</p>
<p>如果要杀偶数个城，那么后手可以做最后调整，如果先手杀不光偶数城，那么后手必胜，如果先手能杀光偶数城，</p>
<p>那么结果就看剩下的k是奇数还是偶数了。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> n,k,a[<span class="number">200001</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</div><div class="line">    <span class="keyword">int</span> i,cnt=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> x;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;x);</div><div class="line">        <span class="keyword">if</span> (x&amp;<span class="number">1</span>) cnt++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> num2=(n-k)&gt;&gt;<span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> num1=(n-k+<span class="number">1</span>)&gt;&gt;<span class="number">1</span>;</div><div class="line">    <span class="keyword">bool</span> fg=<span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (cnt&lt;=num2)</div><div class="line">        fg=<span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span> (k%<span class="number">2</span>==<span class="number">0</span>&amp;&amp;n-cnt&lt;=num2)</div><div class="line">        fg=<span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span> ((n-k)%<span class="number">2</span>==<span class="number">0</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> ((num1&gt;=n-cnt&amp;&amp;k%<span class="number">2</span>)==<span class="literal">false</span>)</div><div class="line">            fg=<span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (n==k)</div><div class="line">        fg=(cnt&amp;<span class="number">1</span>)?<span class="literal">true</span>:<span class="literal">false</span>;</div><div class="line">    <span class="built_in">puts</span>(fg?<span class="string">"Stannis"</span>:<span class="string">"Daenerys"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/Codeforces-618C（计算几何）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/Codeforces-618C（计算几何）/" itemprop="url">
                  Codeforces 618C（计算几何）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T18:01:24+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Cat Noku has obtained a map of the night sky. On this map, he found a constellation with n stars numbered from 1 to n. For each i, the i-th star is located at coordinates (xi, yi). No two stars are located at the same position.</p>
<p>In the evening Noku is going to take a look at the night sky. He would like to find three distinct stars and form a triangle. The triangle must have positive area. In addition, all other stars must lie strictly outside of this triangle. He is having trouble finding the answer and would like your help. Your job is to find the indices of three stars that would form a triangle that satisfies all the conditions. </p>
<p>It is guaranteed that there is no line such that all stars lie on that line. It can be proven that if the previous condition is satisfied, there exists a solution to this problem.</p>
<p>Input<br>The first line of the input contains a single integer n (3 ≤ n ≤ 100 000).</p>
<p>Each of the next n lines contains two integers xi and yi ( - 109 ≤ xi, yi ≤ 109).</p>
<p>It is guaranteed that no two stars lie at the same point, and there does not exist a line such that all stars lie on that line.</p>
<p>Output<br>Print three distinct integers on a single line — the indices of the three points that form a triangle that satisfies the conditions stated in the problem.</p>
<p>If there are multiple possible answers, you may print any of them.</p>
<p>Examples<br>input<br>3<br>0 1<br>1 0<br>1 1<br>output<br>1 2 3<br>input<br>5<br>0 0<br>0 2<br>2 0<br>2 2<br>1 1<br>output<br>1 3 5<br>Note that the triangle formed by starts 1, 4 and 3 doesn’t satisfy the conditions stated in the problem, as point 5 is not strictly outside of this triangle (it lies on it’s border).</p>
<p>题意：给定一些点，选三个点构成三角形，别的点都在三角形外。</p>
<p>做法：按x为关键字，y为次关键字将所有的点排序，选定1，2两个点，枚举第3个点判断是否能构成三角形。<br>In the first sample, we can print the three indices in any order.</p>
<p>In the second sample, we have the following picture.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ss</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> x,y,id;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ss a,ss b)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> (a.x&lt;b.x||a.x==b.x&amp;&amp;a.y&lt;b.y);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(ss a,ss b,ss c)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1l</span>l*(c.x-a.x)*(b.y-a.y)<span class="number">-1l</span>l*(c.y-a.y)*(b.x-a.x)!=<span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line">ss a[<span class="number">100001</span>];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a[i].x,&amp;a[i].y),a[i].id=i;</div><div class="line">    sort(a+<span class="number">1</span>,a+n+<span class="number">1</span>,cmp);</div><div class="line">    <span class="comment">//for (i=1;i&lt;=n;i++)</span></div><div class="line">    <span class="comment">//        printf("%d %d\n",a[i].x,a[i].y);</span></div><div class="line">    <span class="keyword">for</span> (i=<span class="number">3</span>;i&lt;=n;i++)</div><div class="line">        <span class="keyword">if</span> (check(a[<span class="number">1</span>],a[<span class="number">2</span>],a[i]))</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%lld %lld %lld\n"</span>,a[<span class="number">1</span>].id,a[<span class="number">2</span>].id,a[i].id);</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/Codeforces-559A（计算几何）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/Codeforces-559A（计算几何）/" itemprop="url">
                  Codeforces 559A（计算几何）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T18:00:31+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Gerald got a very curious hexagon for his birthday. The boy found out that all the angles of the hexagon are equal to . Then he measured the length of its sides, and found that each of them is equal to an integer number of centimeters. There the properties of the hexagon ended and Gerald decided to draw on it.</p>
<p>He painted a few lines, parallel to the sides of the hexagon. The lines split the hexagon into regular triangles with sides of 1 centimeter. Now Gerald wonders how many triangles he has got. But there were so many of them that Gerald lost the track of his counting. Help the boy count the triangles.</p>
<p>Input<br>The first and the single line of the input contains 6 space-separated integers a1, a2, a3, a4, a5 and a6 (1 ≤ ai ≤ 1000) — the lengths of the sides of the hexagons in centimeters in the clockwise order. It is guaranteed that the hexagon with the indicated properties and the exactly such sides exists.</p>
<p>Output<br>Print a single integer — the number of triangles with the sides of one 1 centimeter, into which the hexagon is split.</p>
<p>Examples<br>input<br>1 1 1 1 1 1<br>output<br>6<br>input<br>1 2 1 2 1 2<br>output<br>13<br>题意：给定一个等角的六边形，用平行与边的线将它切成三角形，问最终切成几个三角形？</p>
<p>做法：六边形的全部都被分为了小三角形，所以用六边形的面积/三角形的面积就是三角形的数量<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">double</span> a1,a2,a3,a4,a5,a6;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf%lf%lf"</span>,&amp;a1,&amp;a2,&amp;a3,&amp;a4,&amp;a5,&amp;a6);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(<span class="keyword">int</span>)((a1+a4)*(a2+a3)+a2*a3+a5*a6+<span class="number">0.5</span>));</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/HDU3430-（置换群循环节-中国剩余定理）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/HDU3430-（置换群循环节-中国剩余定理）/" itemprop="url">
                  HDU3430 （置换群循环节+中国剩余定理）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T17:59:48+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>题意：给出n张牌，标号为1-n，然后给出两个序列，序列1表示序列1,2,3,4……,n洗一次牌后到达的,序列2表示目标序列，问初始序列按序列1的洗牌方式洗几次能到达序列2的情况，如果不能到达输出-1。</p>
<p>题解：在初始序列和序列1的变换中找出1能变到那些牌，这些牌构成一个集合，这些集合中的牌必然是能够相互到达的，然后在序列2中也找出这样一个集合，集合中这些元素的相互顺序是要一样的，这就是判断能否达到，然后这样可以列出几个线性同余方程组，用中国剩余定理求解即可（顺便献上中国剩余定理模板）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> n,a[<span class="number">1001</span>],b[<span class="number">1001</span>],vis[<span class="number">1001</span>],c[<span class="number">1001</span>],x[<span class="number">1001</span>],y[<span class="number">1001</span>];</div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b,<span class="keyword">long</span> <span class="keyword">long</span> &amp;x,<span class="keyword">long</span> <span class="keyword">long</span> &amp;y)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>)</div><div class="line">    &#123;</div><div class="line">        x=<span class="number">1</span>;</div><div class="line">        y=<span class="number">0</span>;</div><div class="line">        <span class="keyword">return</span> a;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> gcd=exgcd(b,a%b,x,y);</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> t=x;</div><div class="line">    x=y;</div><div class="line">    y=t-a/b*x;</div><div class="line">    <span class="keyword">return</span> gcd;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">china_remain</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> m,<span class="keyword">int</span> a[],<span class="keyword">int</span> b[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//for (int i=1;i&lt;=m;i++)</span></div><div class="line">    <span class="comment">//    cout&lt;&lt;a[i]&lt;&lt;" "&lt;&lt;b[i]&lt;&lt;endl;</span></div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> a1,a2,b1,b2,x,y,flag=<span class="number">0</span>;</div><div class="line">    a1=a[<span class="number">0</span>];</div><div class="line">    b1=b[<span class="number">0</span>];</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;m;i++)</div><div class="line">    &#123;</div><div class="line">        a2=a[i];</div><div class="line">        b2=b[i];</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> gcd=exgcd(a1,a2,x,y);</div><div class="line">        <span class="keyword">if</span> ((b2-b1)%gcd)</div><div class="line">        &#123;</div><div class="line">            flag=<span class="number">1</span>;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> t=a2/gcd;</div><div class="line">        x=(x*(b2-b1))/gcd;</div><div class="line">        x=(x%t+t)%t;</div><div class="line">        b1=a1*x+b1;</div><div class="line">        a1=(a1*a2)/gcd;</div><div class="line">        b1=(b1%a1+a1)%a1;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (flag) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    <span class="keyword">return</span> b1;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n))</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">int</span> i;</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b[i]);</div><div class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</div><div class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</div><div class="line">        <span class="keyword">bool</span> can=<span class="literal">true</span>;</div><div class="line">        <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span> (!vis[i])</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> flag=i;</div><div class="line">            <span class="keyword">int</span> count=<span class="number">0</span>;</div><div class="line">            <span class="keyword">while</span> (!vis[flag])</div><div class="line">            &#123;</div><div class="line">                vis[flag]=<span class="number">1</span>;</div><div class="line">                c[count++]=flag;</div><div class="line">                flag=a[flag];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> pos=<span class="number">0</span>;</div><div class="line">            <span class="keyword">while</span> (pos&lt;count&amp;&amp;b[i]!=c[pos]) pos++;</div><div class="line">            <span class="keyword">if</span> (pos==count)</div><div class="line">            &#123;</div><div class="line">                can=<span class="literal">false</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            x[cnt]=count;</div><div class="line">            y[cnt++]=pos;</div><div class="line">            <span class="comment">//cout&lt;&lt;count&lt;&lt;" "&lt;&lt;pos&lt;&lt;endl;</span></div><div class="line">            flag=a[i];</div><div class="line">            <span class="keyword">while</span> (flag!=i)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span> (b[flag]!=c[(++pos)%count])</div><div class="line">                &#123;</div><div class="line">                    can=<span class="literal">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                flag=a[flag];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (!can) <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!can) <span class="built_in">puts</span>(<span class="string">"-1"</span>);</div><div class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,china_remain(cnt,x,y));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/组队训练3回放/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/组队训练3回放/" itemprop="url">
                  组队训练3回放
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T17:59:11+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>练习赛过程回放：</p>
<p>开场先看最后一题，</p>
<p>发现是专题训练时做过的网络流原题，</p>
<p>cst照着之前的打一遍，第一遍WA，</p>
<p>发现数组开小了，改大后AC。</p>
<p>这时候qw看B题，</p>
<p>一开始想不到方法，</p>
<p>cst看了下是BFS，</p>
<p>这时qw开敲，MLE。</p>
<p>然后把数组开小一位，WA。</p>
<p>后来想了想不能直接把字符串存队列里，</p>
<p>改成直接存数字，交了一发，WA。</p>
<p>然而，题目没有读清楚，不知道还能添加1，</p>
<p>修改后提交，还是WA。</p>
<p>再检查一下，没有考虑1可以加在最前面，</p>
<p>再次提交，WA。</p>
<p>考虑一下字典序的问题，发现1应该从后面开始加。</p>
<p>修改后提交，终于AC了。</p>
<p>这时cst看了下H，发现是最大团，但一开始不知道最大团的复杂度。</p>
<p>cst先建好图，然后qw把最大团模板打进去，TLE。</p>
<p>czy改成csy的模板，WA。</p>
<p>后来发现忘记开long long了，修改后AC（csy的模板太强了，速度快一倍，赶紧收藏）</p>
<p>这时候发现没题可做了，每道题都看了下，</p>
<p>qw看了下E，看到游戏的图，一开始以为是大模拟，</p>
<p>后来看了看，输入像图论，以为是最短路，</p>
<p>czy开敲，但到最后发现题目读错了，</p>
<p>再次读题，发现是dp题，</p>
<p>qw想出转移方程后开敲，AC（完全被题目误解）</p>
<p>这时候czy发现A也是dp，发现行和列本质上是一样的，</p>
<p>cst开敲，WA了几发，在这之中修改了很多细节，并且考虑了负数。</p>
<p>最后发现原来是dp数组忘记初始化了，修改后AC。</p>
<p>qw对本次比赛的总结：</p>
<p>相比之前的2次比赛，这次比赛难度大了很多，</p>
<p>但总体还行，A了5题，不过有一道题以前做过。</p>
<p>这次有点遗憾的是一道题被题目意思误导，</p>
<p>没有真正理解题意后就开始打了，导致浪费时间。</p>
<p>之后在开打前一定要完全理解题意，</p>
<p>并且知道样例是怎么推出来的，完全确定后才能开始写。</p>
<p>然后dp一般情况下都要进行初始化（就算是滚动数组），</p>
<p>之前包括个人赛，已经有几次因为dp忘记初始化导致WA。</p>
<p>几次比赛下来发现czy很适合想题。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/CSY版最大团，速度快一倍/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/CSY版最大团，速度快一倍/" itemprop="url">
                  CSY版最大团，速度快一倍
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T17:58:36+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i, n)                 for(int i(0); i &lt;  (n); ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, a, b)              for(int i(a); i &lt;= (b); ++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> dec(i, a, b)              for(int i(a); i &gt;= (b); --i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> for_edge(i, x)            for(int i = H[x]; i; i = X[i])</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LL      long long</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ULL     unsigned long long</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MP      make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> PB      push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> FI      first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> SE      second</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> INF     1 &lt;&lt; 30</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N     =    <span class="number">100000</span>      +       <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> M     =    <span class="number">10000</span>       +       <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> Q     =    <span class="number">1000</span>        +       <span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> A     =    <span class="number">30</span>          +       <span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line">ll a[Q];</div><div class="line">ll c[Q][Q];</div><div class="line">ll mx[Q],s[Q],ans;</div><div class="line">ll f[Q][Q];</div><div class="line"><span class="keyword">int</span> i,j,k;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur,<span class="keyword">int</span> tot)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(!cur)&#123;</div><div class="line">        <span class="keyword">if</span>(tot&gt;ans) <span class="keyword">return</span> ans=tot,<span class="number">1</span>;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j,u,nxt;i&lt;cur;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(cur-i+tot&lt;=ans) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        u=f[tot][i],nxt=<span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(mx[u]+tot&lt;=ans) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;cur;j++) </div><div class="line">        <span class="keyword">if</span>(c[u][f[tot][j]]) f[tot+<span class="number">1</span>][nxt++]=f[tot][j];</div><div class="line">        <span class="keyword">if</span>(dfs(nxt,tot+<span class="number">1</span>)) <span class="keyword">return</span> <span class="number">1</span>; </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    </div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T); T--; )&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="built_in">memset</span>(c, <span class="number">0</span>, <span class="keyword">sizeof</span> c);</div><div class="line">        rep(i, <span class="number">1</span>, n) <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, a + i);</div><div class="line">        rep(i, <span class="number">1</span>, n - <span class="number">1</span>) rep(j, i + <span class="number">1</span>, n)&#123;</div><div class="line">            <span class="keyword">if</span> (a[i] % a[j] != <span class="number">0</span> &amp;&amp; a[j] % a[i] != <span class="number">0</span>)&#123;</div><div class="line">                c[i<span class="number">-1</span>][j<span class="number">-1</span>] = c[j<span class="number">-1</span>][i<span class="number">-1</span>] = <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*    rep(i, 1, n)&#123;</span></div><div class="line">            rep(j, 1, n) printf("%d ", c[i][j]);</div><div class="line">            putchar(10);</div><div class="line">        &#125;*/</div><div class="line">        <span class="built_in">memset</span>(mx,<span class="number">0</span>,<span class="keyword">sizeof</span>(mx));</div><div class="line">        <span class="built_in">memset</span>(s,<span class="number">0</span>,<span class="keyword">sizeof</span>(s));</div><div class="line">        ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(i=n<span class="number">-1</span>;~i;dfs(k,<span class="number">1</span>),mx[i--]=ans) </div><div class="line">        <span class="keyword">for</span>(k=<span class="number">0</span>,j=i+<span class="number">1</span>;j&lt;n;j++) </div><div class="line">        <span class="keyword">if</span>(c[i][j]) f[<span class="number">1</span>][k++]=j;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/组队训练2-回放-转载至cxhscst2-s-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hnqw1214">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acmclub.win">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/03/组队训练2-回放-转载至cxhscst2-s-blog/" itemprop="url">
                  组队训练2 回放(转载至cxhscst2's blog)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-03T17:57:58+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2017/3/4  12:00-17:00</p>
<p>Solve 9 / 13</p>
<p>Penalty 717</p>
<p>练习赛过程回放：</p>
<p>开场5分中J题签到(cst)</p>
<p>12分钟时qw签到A</p>
<p>这时qw继续开写M，WA，检查代码。</p>
<p>接着czy写B，cst在旁边检查，及时纠正可能导致爆int的错误。</p>
<p>38分钟czy交C，1Y。</p>
<p>三人一起查qw的M，43分钟时提交，2Y。</p>
<p>qw推出了E的公式，一开始WA了一发，70分钟2Y。</p>
<p>cst和czy讨论F，同时qw继续敲D， 92分钟2Y。</p>
<p>czy上来搞F，第一发WA。</p>
<p>czy下去查错，cst上来敲C(四面体体积公式)，104分钟，1Y。</p>
<p>czy改错之后，继续交了一发，OLE(交成了I题)， WA(第二发F题)</p>
<p>同时cst思考L，发现是个KM的模板题。</p>
<p>cst开敲L，124分钟，1Y。</p>
<p>czy重新做了F，第125分钟提交，3Y。</p>
<p>第二次训练cst总结：</p>
<p>第二次的AC率比第一次训练高了很多。</p>
<p>这次做的三道题都是1Y(当然题目简单，不坑也有关系)</p>
<p>两次训练下来发现qw比较适合前期主写代码。</p>
<p>因为这两次题目较简单，所以后期的情况暂时看不出来。</p>
<p>第二次训练qw总结：</p>
<p>确实，第二次的状态相比第一次好了很多。</p>
<p>不过因为题目简单，后面几道题又没有思路，所以2个小时后挂机。</p>
<p>还是有一些不应该的罚时，比如一道模拟题一开始又是n和m搞错了，所以WA了一发，没有做到1Y。</p>
<p>前期在签到时不仅要手速快，细节也要注意，避免不必要的罚时。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/8E9212F83525E2181D28AA0DBE0BF1D7.jpg"
               alt="hnqw1214" />
          <p class="site-author-name" itemprop="name">hnqw1214</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hnqw1214</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
